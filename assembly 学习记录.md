# assembly 学习记录

    1.机器语言
    2.编译器
    3.汇编语言
        汇编语言是机器语言的封装，有更好的助记符





# 基础
    1.2 汇编的产生
        程序员 ---- 汇编指令 ----- 编译器 ----- 机器码 ---- CPU
        CPU ----- 内存 ----- 外存 
        RAM ROM
    1.6 储存单元
        1byte = 8bit
        10的6次方 = 64
            7次方 = 128
            8次方 = 256
            10次方 = 1024
            16次方 = 65535
    1.7 CPU对储存器的读写  也就是对内存的的操作
            储存单元的地址（地址信息）
            器件的选择，读取或写入的命令 (控制信息)
            读或写的数据（数据信息）
    1.8 地址总线
            1.CPU是通过地址总线来指定储存器单元的。地址总线上能传送多少个不同的信息，CPU就可以对多少个存储单元进行寻址
            2.
# 2023.12.29 学习记录" 基础
    
    1.控制指令 
        mov add
        指令例
            #        a         b
            # ax = 00000000  00000000
            # a  = ah  是高八位
            # b  = al  是低八位
        mov ax,bx   ax = bx
        mov ah,0    ah = 0       
        mov al,0    al = o
        mov ax,0    ax = 0
                    add ax,bx      ax = ax+bx
                    add al,0       al = al+0
                    add ah,0       ah = ah+0   



    2.寻址 (8086 CPU 16位寻址)
        寄存器  ax ah al  ah 是ax的高8位   al是低8位
                        bx bh bl  同上

    3.确定物理地址方法
            1.主储存器地址空间
            2.显存地址空间
            3.各类ROM地址空间
        CPU访问内存单元时要给出内存的地址
        所有的内存单元构成的储存空间是一个一维的线性空间

# 12.30  内存地址的计算
    
     8086 CPU  20位地址总线宽度  16位数据总线宽的
            两个16位地址（段地址）（偏移地址）合成一个20位的物理地址
     
     地址加法器合成物理地址的方法
            物理地址 = 段地址 X 16 + 偏移地址

#  12.31 debug
    debug
        -R 查看寄存器 CS:IP 指向的内存地址 修改寄存器的值
            -r ax 回车 可以修改ax寄存器中的值 同理 CS:IP中的值也可以修改
        -D 查看以CS:IP为起始地址的128字节内存中的
            可指定起始地址
            -d 1000:0 
            -d 1000:9 从9开始到 1000:88 128字节
            -d 1000:0 9 查看0-9的内存中的数据
        -e 修改内存中的值 
            -e 1000:0 48 48对应的ascii码为H
            -e 1000:0 48 45 4c 4c 4f 对应 HELLO  
        -e b8 01 00 b9 02 00 01 c8   
        -u    对应的汇编指令可以用 -U 查看
            修改内存中的值 为机器码
            -r CS
            -r IP
            -t 单步执行
            
        ##总结    
            -R 查看，修改CPU中寄存器的内容
            -D 查看内存中的内容
            -E 修改内存中的内容
            -U 将内存中的内容解释为机器指令和对应的汇编指令
            -T 执行CS:IP指向的内存单元处的指令
            -A 以汇编指令的形式向内存中写入指令 
# DS 段寄存器
        注意传入与被传入的数据大小关系
        mov al,bx       a的低八位或高八位，无法接收bx,此时bx是字类型寄存器，而al是独立的字节型寄存器
        mov bx,al  
        mov ax,1000:0   1000:0作为低八位，送入al，而1000:1，作为高八位送入ah，此时ax=al+ah
        ////
        mov ax,1000     将1000H 送入ax寄存器
        mov ds,ax       将ax寄存器的值送入ds段寄存器中

                        [...]表示一个内存单元
        
        mov [0],ax      [0] 是偏移地址  自动取段寄存器中的段进行组合   
                        可以看成 mov 1000:0,ax 将ax寄存器中的值 送入1000:0内存地址
        --------------
        mov ax,1000     这里是用段寄存器，将内存地址中的值送到al寄存器中
        mov ds,ax
        mov al,[0]
# mov add sub 指令
    mov 寄存器，数据
    mov 寄存器，寄存器
    mov 寄存器，内存单元
    mov 内存单元，寄存器
    mov 段寄存器，寄存器
    mov 段寄存器，内存单元
    mov 内存单元，段寄存器    
            
        注意 数据不能直接到段寄存器，需要数据寄存器中转。 
                 数据也不能直接送到内存单元，需要寄存器中转
    ## start
    ax = 2000
        
        sub ax,1000  等同 ax = ax -1000
    
        ax = 1000

        add ax，1000 等同 ax = ax + 1000
        
        ax = 2000
    ## end


        